<!DOCTYPE html>
<html>
<head>
	<title>Admin Login</title>
	<script src="https://auth.util.repl.co/script.js"></script>
	<style>
		body { font-family: Arial, sans-serif; margin: 40px; max-width: 500px; margin: 0 auto; padding-top: 50px; }
		.login-container { border: 1px solid #ddd; padding: 20px; border-radius: 5px; text-align: center; }
		h1 { text-align: center; }
		.error { color: red; margin-bottom: 10px; }
		.login-button { padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
	</style>
</head>
<body>
	<div class="login-container">
		<h1>Admin Login</h1>
		{% if error %}
		<div class="error">{{ error }}</div>
		{% endif %}
		{% if not replit_user %}
		<button onclick="LoginWithReplit()" class="login-button">Login with Replit</button>
		{% else %}
			{% if is_admin %}
			<p>Welcome, {{ replit_user }}! Redirecting to admin dashboard...</p>
			<script>window.location.href = '/admin/dashboard';</script>
			{% else %}
			<p>Sorry, {{ replit_user }}. You are not authorized as an admin.</p>
			<p>Your Replit username must be approved by an existing admin.</p>
			{% endif %}
		{% endif %}
	</div>
</body>
</html>